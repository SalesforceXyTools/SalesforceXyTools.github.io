<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Exia.Huang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Exia.Huang">
<meta property="og:url" content="http://www.ibmer.info/page/4/index.html">
<meta property="og:site_name" content="Exia.Huang">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Exia.Huang">
  
    <link rel="alternate" href="/atom.xml" title="Exia.Huang" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Exia.Huang</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://www.ibmer.info"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-dataloadercliq" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/dataloadercliq.html" class="article-date">
  <time datetime="2016-08-22T05:03:34.000Z" itemprop="datePublished">2016-08-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/dataloadercliq.html">Dataloadercliq</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div>ダウンロード</div><br><strong><a href="https://code.google.com/p/dataloadercliq/" target="_blank" rel="external">dataloadercliq</a></strong><br><br><a href="https://code.google.com/archive/p/dataloadercliq/downloads" target="_blank" rel="external">https://code.google.com/archive/p/dataloadercliq/downloads</a><br><br>&nbsp;<br><br>・CLIqをダウンロードして解凍してもすぐに使えないゼイ。<br><div>⇒データローダのディレクトリに解答したcliqを移動するゼイ。</div><br><div>例）</div><br><div>C:\Program Files\salesforce.com\Data Loader</div><br>&nbsp;<br><div>上記の場所にcliqを配置するゼイ。</div><br>「<strong>Using _jvm to run CLIq…</strong><br><div><strong>指定されたパスが見つかりません。</strong></div><br><div><strong>続行するには何かキーを押してください . . .</strong>」</div><br>&nbsp;<br><div>上記のメッセージが表示されたら、<strong>CLIq</strong>の配置場所がおかしいゼイ。</div><br>&nbsp;<br><div>・「<strong>Directory already exists.  Please delete first.</strong>」とメッセージが表示される。</div><br><div>⇒すでにフォルダが作成されているから削除するか、名前を変更する。</div><br>&nbsp;<br><div>・「<strong>指定されたパスが見つかりません。</strong>」と表示される。</div><br><div>⇒cliqと同じ階層に「cliq_process」フォルダがない。</div><br><div>または、対象のフォルダに作成参照権限がない。</div><br><div></div><br><div></div><br><div>※※※※</div><br><div>JVM路径配置会影响CLIq的运行，建议复制一份JVM到</div><br><div>C:\Program Files\salesforce.com\Data Loader\Java 下面，</div><br><div>不然会引起各种不必要的麻烦</div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/dataloadercliq.html" data-id="cji8sg1qw003740iokmu9v6ah" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-stop-sf-job" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/stop-sf-job.html" class="article-date">
  <time datetime="2016-08-15T07:35:16.000Z" itemprop="datePublished">2016-08-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/stop-sf-job.html">Unable to abort Recursive batch job</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><div class="feedcommenttext">Salesforce中有时不能停止job，</div></p>
<p><div class="feedcommenttext">会出现Unable to abort Recursive batch job的错误信息。</div></p>
<p><div class="feedcommenttext">可以通过下面方法强行停止job/</div></p>
<p><div class="feedcommenttext"></div></p>
<p><div class="feedcommenttext"></div></p>
<p><div id="ext-gen18" class="feedcommenttext">Get Batch job ID from Setup-&gt;Monitoring -&gt; Apex Jobs to get batch job ID.</div></p>
<p><div id="ext-gen18" class="feedcommenttext"></div></p>
<pre>System.abortJob(JobID);</pre>
一个强行停止job的方法。
<pre>List&lt;AsyncApexJob&gt; jobs = [SELECT Id, Status FROM AsyncApexJob WHERE Status NOT IN ('Completed', 'Failed')];

for (AsyncApexJob job : jobs)
{
System.abortJob(job.Id);
}

</pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/stop-sf-job.html" data-id="cji8sg1w100d040ioq5qicsb0" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-salesforce-auth" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/salesforce-auth.html" class="article-date">
  <time datetime="2016-08-03T08:11:56.000Z" itemprop="datePublished">2016-08-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/salesforce-auth.html">Salesforce権限設定</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>データアクセス権の設定方法<br>① プロファイル<br>② ロール<br>③ 共有設定<br>④ タブ毎の共有ルール<br>⑤ 個別データの共有ルール<br>⑥ チームセリング<br>⑦ 所有者の変更</p>
<p><a href="http://successjp.salesforce.com/rollout_guide/pdf/data_access_control.pdf" target="_blank" rel="external">参考資料：</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/salesforce-auth.html" data-id="cji8sg1uf00aa40iodidi6ter" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-apex-system-finalexception" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/apex-system-finalexception.html" class="article-date">
  <time datetime="2016-08-02T08:31:32.000Z" itemprop="datePublished">2016-08-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/apex-system-finalexception.html">Salesforce Apex Error：System.FinalException</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>System.FinalException: SObject row does not allow errors</p>
<p>別のリストに、入れ替えたら、addErrorは使ってはいけない。</p>
<p>エラーになります。</p>
<p><div><em>List&lt;Opportunity&gt; opps = Trigger.new;</em></div></p>
<p><div><em>for(Opportunity opp: opps.new ) {</em></div></p>
<p><div><em>    opp.addError(‘エラーメッセージ’);</em></div></p>
<p><div><em>}</em></div><br>これでＯＫ</p>
<p><div><em>for(Opportunity opp: Trigger.new ) {</em></div></p>
<p><div><em>    opp.addError(‘エラーメッセージ’);</em></div></p>
<p><div><em>}</em></div><br>ちなみに、これもＮＧね。(old)<br><em>for(Opportunity opp: Trigger.old ) {</em></p>
<p><div><em>    opp.addError(‘エラーメッセージ’);</em></div></p>
<p><div><em>}</em></div></p>
<p><div></div></p>
<div>

<hr>
<p><span style="color: #ff0000;"><strong>Usage</strong></span></p>
<p><span style="color: #ff0000;"><strong>When used on Trigger.new in before insert and before update triggers, and on Trigger.old in before delete triggers, the error message is displayed in the application interface.</strong></span></p>
<p></p></div><br>Example<p></p>
<p><pre><br>validateUpdate(Trigger.oldMap, Trigger.new)</pre></p>
<p>public static void validateUpdate(Map&lt;Id, Contract<strong>c&gt; oldContractMap, List&lt;Contract</strong>c&gt; contractList) {</p>
<p> for(Contract<strong>c contract : contractList) {<br> Contract</strong>c oldContract = oldContractMap.get(contract.id);<br> if (oldContract.IsClosed<strong>c) {<br> if(!setting.ContractEditFlg</strong>c){<br> contract.addError(‘ERROR MESSAGE!!’);<br> }<br> }<br> }</p>
<p>}<br>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/apex-system-finalexception.html" data-id="cji8sg1q8001u40iobrx3f6hz" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-sf-regex-katagana" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/sf-regex-katagana.html" class="article-date">
  <time datetime="2016-07-27T05:37:04.000Z" itemprop="datePublished">2016-07-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/sf-regex-katagana.html">SF中正则表达式：全角カタカナ以外を禁止する</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>入力規則を作成し、「REGEX」関数を用いて入力許可する文字列を指定することで可能となります。</p>
<p>演算子と関数 - REGEX<br><a href="https://help.salesforce.com/HTViewHelpDoc?id=customize_functions_i_z.htm&amp;language=ja#REGEX" target="_blank" rel="external">https://help.salesforce.com/HTViewHelpDoc?id=customize_functions_i_z.htm&amp;language=ja#REGEX</a></p>
<p>REGEX 関数は、正規表現を指定する関数になります。<br>NOT () で括ることで、正規表現に合致しなかった場合に入力規則でエラーを表示することが可能となります。</p>
<p>下記は「全角カタカナ以外を禁止する」構文の例です。</p>
<p>NOT( REGEX( Field__c , “^[ァ-ー]+$”) )</p>
<p>正規表現 “^[ァ-ー]+$” の内訳ですが、</p>
<p>＊　^：テキスト項目の先頭文字から<br>＊　[ァ-ー]：全角カタカナが（コード表を見ればカタカナが連続しているのが分かる）<br>＊　+：1文字以上<br>＊　$：最後まで連続している</p>
<p>となります。つまり、全角カタカナ文字列を表現しています。</p>
<p>正規表現構文は、JAVA Platform SE 6 構文に基づいています。<br><a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html" target="_blank" rel="external">http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/sf-regex-katagana.html" data-id="cji8sg1vo00cb40ios223s3h6" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-salesforce-oo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/salesforce-oo.html" class="article-date">
  <time datetime="2016-07-26T05:44:53.000Z" itemprop="datePublished">2016-07-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/salesforce-oo.html">Salesforce面向对象语言</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="★关于APEX，如果想要继承父类，父类必须virtual或者abstract，否则会出现In-Salesforce-Non-virtual-and-non-abstract-type-cannot-be-extended-的错误。"><a href="#★关于APEX，如果想要继承父类，父类必须virtual或者abstract，否则会出现In-Salesforce-Non-virtual-and-non-abstract-type-cannot-be-extended-的错误。" class="headerlink" title="★关于APEX，如果想要继承父类，父类必须virtual或者abstract，否则会出现In Salesforce Non-virtual and non-abstract type cannot be extended.的错误。"></a>★关于APEX，如果想要继承父类，父类必须virtual或者abstract，否则会出现In Salesforce Non-virtual and non-abstract type cannot be extended<strong>.</strong>的错误。</h3><h3 id="★"><a href="#★" class="headerlink" title="★"></a>★</h3><h3 id="★-1"><a href="#★-1" class="headerlink" title="★"></a>★</h3><h3 id="★-2"><a href="#★-2" class="headerlink" title="★"></a>★</h3><p>&nbsp;</p>
<h3 id="Object-Oriented-Programming-in-Apex"><a href="#Object-Oriented-Programming-in-Apex" class="headerlink" title="Object-Oriented Programming in Apex"></a>Object-Oriented Programming in Apex</h3><ol>
<li>Classes</li>
<li>Properties</li>
<li>Encapsulation</li>
<li>Polymorphism and Inheritance</li>
<li>Virtual Class</li>
<li>Abstract class</li>
<li>Interfaces</li>
</ol>
<h2 id="Classes"><a href="#Classes" class="headerlink" title="Classes"></a>Classes</h2><ul>
<li>A class is a template or blueprint from which objects are created.</li>
<li>They consist of methods and attributes</li>
<li>Are stored with the version of API that is used to compile it</li>
<li>May contain other classes, known as inner classes (but these can only be one level deep)</li>
<li>Even though Apex code is not case sensitive, it is recommended that you follow the Java naming convention</li>
<li>Static methods and attributes can only be declared in a top-level class definition</li>
<li>To create new exception classes, the Exception class must be extended</li>
<li><p>Classes can be enabled or disabled for profiles.<br><strong>Ways to Create Classes</strong></p>
</li>
<li><p>Through the UI:</p>
<ul>
<li>Go to Setup -&gt; Develop and Apex Classes.</li>
<li>Click “New” or “Generate from WSDL”</li>
<li>Enter code or upload a WSDL</li>
</ul>
</li>
<li><p>Through a Force.com IDE project:</p>
<ul>
<li>Right-click the src folder and click New -&gt; Apex Class (this is the recommended way)<br><strong>Class Syntax:</strong></li>
</ul>
</li>
</ul>
<p>private | public | global</p>
<p>[virtual  | abstract | with sharing | without sharing | (none)]<br>Class <em>ClassName</em> [<em>implements InterfaceNameList</em> | (<em>none)] [extends ClassOrInterfaceName</em> | (none}] {<br>// The body of the class<br>}</p>
<p><strong>Example</strong></p>
<p>public class myOuterClass {</p>
<p>// Additional myOuterClass code here</p>
<p>class myInnerClass {</p>
<p>// myInnerClass code here</p>
<p>}</p>
<p>}</p>
<ul>
<li>If global, the class is accessible everywhere. This must be used with the webService keyword. All methods, attributes and inner classes that are global must be within a global class</li>
<li>If public, the class is visible across the application, org or namespace that comprises the class.</li>
<li>If private is used for an inner class, the inner class is only accessible to the outer class. The default for inner classes is private.</li>
<li>Top level or outer classes must have either a global or public keyword.</li>
<li>A class can implement multiple interfaces, but it can only extend once class</li>
<li>A class can cast as a superclass and verify an objects class using the instanceof keyword</li>
<li><p>You can implement and extend classes using the keywords, virtual, abstract and extends</p>
<ul>
<li>Virtual declares that the class allows extensions and overrides, Classes that are virtual cannot be global.</li>
<li>Abstract declares that the class contains abstract methods and can be extended. These classes just have a method signature and do not have code. You cannot instantiate an object of an abstract class until some other class extends it.</li>
<li>The Extends keyword declares that the class is a subclass. The “super” keyword can be used to invoke constructors and methods from the parent class.</li>
</ul>
</li>
<li><p>All Apex code executes in the system mode and ignores all CRUD, field-level security and record sharing level privileges. You use with and without sharing keywords to implement sharing. By default a class will run in the without sharing mode.</p>
<ul>
<li>With sharing – This means that when performing DML operations, the user can only update records to which he or she has edit level access</li>
<li>Without Sharing – This ensures that sharing model access is ignored and is referred to a running in system mode.</li>
</ul>
</li>
<li><p>Interfaces are classes that only include the method signature. The methods are not implemented in the interfaces. Apex supports both top-level and inner interfaces</p>
</li>
<li>Avoid using standard object names for class names. Doing so causes unexpected results</li>
</ul>
<h2 id="Properties-Attributes-Syntax"><a href="#Properties-Attributes-Syntax" class="headerlink" title="Properties/ Attributes Syntax"></a>Properties/ Attributes Syntax</h2><p>Properties are the shortened form of a method that has access to static and instance variable.</p>
<p>modifiers dataType attributeName initialization;</p>
<p>For example:<br>public static final Integer MAX_AMOUNT = 200;</p>
<p>private Integer cost;</p>
<p>public Integer getcost() { return cost; }</p>
<p>public void setcost(Integer cost) { this.cost=cost; }</p>
<p>// Variable as Property</p>
<p>public Integer cost { get { return cost; }  set { this.cost= cost;}}</p>
<p>//Variable as Automatic Property</p>
<p>public Integer cost { get; set; }</p>
<p>//read-only and write - only Property</p>
<p>public Integer readOnly { get; private set;}</p>
<p>public Integer wrtieOnly { private get; set;}</p>
<h3 id="Methods-Syntax"><a href="#Methods-Syntax" class="headerlink" title=" **Methods Syntax**:"></a><strong> **</strong>Methods Syntax<strong>**:</strong></h3><p>Modifiers returnDataType methodName (inputParameterList) {<br>// method code<br>}</p>
<p>For example:</p>
<p>Public Integer getInt() {<br>Return myInt;<br>}</p>
<p><strong>Method and Attribute Access Modifiers</strong></p>
<ul>
<li>Private – Default access modifier, but is not available for top-level classes. It implies that the attribute or method is only available in the class where it is defined.</li>
<li>Protected – Available only to inner classes</li>
<li>Public – Can be used by an apex code in the application, org or namespace</li>
<li><p>Global – Accessible by all Apex everywhere. Note that Apex code cannot be shared between orgs, with the exception of Web Services, which are accessible to everyone.<br><strong>Static Methods and Attributes</strong></p>
</li>
<li><p>Static methods are accessed through the class itself and do not depend on an instance of a class</p>
</li>
<li><p>Static attributes are used to store data that is used within the class. They can be used to prevent recursive logic by setting flags.<br><strong>Constants</strong></p>
</li>
<li><p>Assign a value to a constant only once either at declaration or initialization</p>
</li>
<li><p>Define a constant using both the static and final keywords.<br><strong>Instantiating Objects</strong></p>
</li>
<li><p>Allows you to work with methods and attributes that are not defined as static</p>
</li>
<li><p>After instantiating, you can refer to methods and attributes using the dot notation. For example:<br>TestObject myObject1 = new TextObject();<br>myObject1.myMethod();</p>
</li>
<li><p>A constructor is a special method used to create an object of a class. It has the same name as the class and is the first method invoked in the class. It does not have an explicit return type and is available by default in each class as invisible and without parameters. It can be overloaded by defining multiple constructors with different parameters.<br><strong>The “this” Keyword</strong></p>
</li>
<li><p>With dot Notation – Used to represent the current instance of the class and can call methods or set attributes that are public or are available.</p>
</li>
<li><p>With Constructors – Developers can do constructor chaining by using the this keyword, but the this keyword must be the first statement in the constructor.<br><strong>Apex System-Delivered Classes</strong></p>
</li>
<li><p>System Class – Is a static class that contains only static methods. Includes the following:</p>
<ul>
<li>Debug()</li>
<li>Now()</li>
<li>Today()</li>
<li>Assert()</li>
<li>AssertEquals()</li>
<li>AssertNotEquals()</li>
</ul>
</li>
<li><p>UserInfo Class – Mostly getter methods used to get details. For example:</p>
<ul>
<li>getUserId()</li>
<li>getUserName()</li>
<li>getUserRoleId()</li>
<li>getFirstName()</li>
<li>getLocale()</li>
<li>getLanguage()<br><strong>Apex Workflow and Approval Processing</strong></li>
</ul>
</li>
<li><p>Apex process classes are used to submit workflow requests and process the results of those requests. The three classes provided are:</p>
<ul>
<li>ProcessRequest – Used to process the results from a workflow process</li>
<li>ProcessSubmitRequest – Used to submit a workflow item for approval</li>
<li>ProcessWorkItemRequest – Used to process an item after it is submitted</li>
</ul>
</li>
</ul>
<h2 id="Encapsulation"><a href="#Encapsulation" class="headerlink" title="Encapsulation"></a>Encapsulation</h2><p>When a class is defined it becomes a new data type in Apex</p>
<p>public class MyClass()</p>
<p>{</p>
<p>MyClass c  = new MyClass();</p>
<p>List&lt;MyClasss&gt; myList = new List&lt;MyClass&gt;();</p>
<p>myList.add(c);</p>
<p>}</p>
<h2 id="Polymorphism-and-Inheritance"><a href="#Polymorphism-and-Inheritance" class="headerlink" title="Polymorphism and Inheritance"></a>Polymorphism and Inheritance</h2><p>Apex supports single inheritance, it allows to extend one other class and implement many interfaces. Interface can also extend multiple interfaces</p>
<p>Over-riding methods is two step process</p>
<ul>
<li>Parent class must provide virtual and abstract keyword on the methods to be over-ridden</li>
<li>In subclass, the override keyword is used on virtual and abstract methods to replace parent.<br>In Salesforce Non-virtual and non-abstract type cannot be extended<strong>.</strong></li>
</ul>
<h2 id="Virtual-Class"><a href="#Virtual-Class" class="headerlink" title="Virtual Class"></a>Virtual Class</h2><p>Virtual classes do not require any methods to be overriden and can be constructed as is without the need of extending.</p>
<p>// SubClass with Method Override</p>
<p>public virtual class myParentClass {</p>
<p>public virtual void dosomething(){</p>
<p>System.Debug(‘Something’);</p>
<p>}</p>
<p>}</p>
<p>public class myclass extends myParentClass{</p>
<p>public override void dosomething(){</p>
<p>super.dosomething();</p>
<p>System.Debug(‘something else’);</p>
<p>}</p>
<p>new myclass().dosomething();</p>
<p>}</p>
<h2 id="Abstract-class"><a href="#Abstract-class" class="headerlink" title="Abstract class"></a>Abstract class</h2><p>Abstract classes can contain methods that don’t require an override and methods that do require an override, since it can contain methods that do require and override it must be extended to be constructed.  Useful if you want to share code among several closely related classes that implement a common interface</p>
<p>public abstract class TestRow {</p>
<p>public Double value;</p>
<p>public virtual Double getValue() {</p>
<p>return value==null ? 0 : value;</p>
<p>}</p>
<p>public void setValue(Double value) {</p>
<p>this.value = value;</p>
<p>}</p>
<p>}</p>
<p>public class SummaryTestRow extends TestRow {</p>
<p>private list&lt;TestRow&gt; childRows;</p>
<p>public override Double getValue() {</p>
<p>Double totalValue = 0;</p>
<p>for(TestRow childRow : childRows){</p>
<p>totalValue += childRow.value;</p>
<p>}</p>
<p>return totalValue;</p>
<p>}</p>
<h2 id=""><a href="#" class="headerlink" title="}"></a>}</h2><p>## </p>
<h2 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a>Interfaces</h2><p>Interface as skeletal class definitions containing list of methods with no implementations</p>
<p>//Declaring and using Interface</p>
<p>public interface myInterface {</p>
<p>void doSomething (String thing);</p>
<p>}</p>
<p>public class MyClass implements MyInterface {</p>
<p>public void doSomething(String x);</p>
<p>}</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/salesforce-oo.html" data-id="cji8sg1ux00av40iodxopwuyr" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-salesforce-orderby" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/salesforce-orderby.html" class="article-date">
  <time datetime="2016-07-22T00:51:26.000Z" itemprop="datePublished">2016-07-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/salesforce-orderby.html">Salesforce中Orderby排序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>一个Salesforce中Orderby排序问题，</p>
<p>如果排序对象是一个textテキスト类型的，却存储了数字，</p>
<p>例如1，2，3，4，5，6，7，8，9，10，11，12</p>
<p>进行order by后结果为1，10，11，12，2，3，4，5，6，7，8，9，10</p>
<p>如何得到从数值的结果呢？</p>
<p>一个比较笨的方法就是获取到list中进行重新排序。</p>
<p>有没有其他好方法？？答案肯定的，使用书式，把text转换成数值，就可以了。</p>
<p>书式IF(ISNUMBER(Name),VALUE(Name),99999)</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/salesforce-orderby.html" data-id="cji8sg1uy00az40iomytl3xmg" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-salesforce-ischanged" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/salesforce-ischanged.html" class="article-date">
  <time datetime="2016-07-20T01:29:10.000Z" itemprop="datePublished">2016-07-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/salesforce-ischanged.html">Salesforce ISCHANGED</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="salesforce中如何判断一个字段变化了，"><a href="#salesforce中如何判断一个字段变化了，" class="headerlink" title="salesforce中如何判断一个字段变化了，"></a>salesforce中如何判断一个字段变化了，</h2><p>其实内部已经提供了函数，很方便就能判断。</p>
<h2 id="ISCHANGED"><a href="#ISCHANGED" class="headerlink" title="ISCHANGED"></a><span id="ISCHANGED" class="ph">ISCHANGED</span></h2><div class="data colSort"><br><table class="featureTable sort_table" summary="" cellspacing="0" cellpadding="4"><br><tbody class="tbody"><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>Description:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISCHANGEDDef" class="ph"><a name="ISCHANGEDDef"></a>Compares the value of a field to the previous value and returns TRUE if the values are different. If the values are the same, this function returns FALSE.</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>Use:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISCHANGEDUse" class="ph"><a name="ISCHANGEDUse"></a><samp class="codeph nolang">ISCHANGED(<var class="keyword varname">field</var>)</samp> and replace <var class="keyword varname">field</var> with the name of the field you want to compare.</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>Validation Rule Example:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%">The following validation rule prevents users from changing an object name after it has been created:<samp class="codeph nolang">NOT(ISCHANGED(Name))</samp>.<br><br><samp class="codeph nolang">NOT(AND(ISCHANGED(Priority), ISPICKVAL(Priority, “Low”)))</samp> is a validation rule that ensures if a user changes the <span class="keyword parmname">Priority</span> of a case, the new priority cannot be “Low.”<br><br><div class="p"><samp class="codeph nolang">NOT(AND(ISCHANGED(CloseDate), OR(MONTH(CloseDate) &lt;&gt; MONTH(TODAY()), YEAR(CloseDate) &lt;&gt; YEAR(TODAY())),$Profile.Name &lt;&gt; “Sales Manager”))</samp> is a validation rule that prevents a user from changing the <span class="keyword parmname">Close Date</span> of an opportunity to a date outside of the current month and year unless that user has the “Sales Manager” profile.<br><div class="note"><br><div class="noteTitle">Note</div><br><div class="noteBody"><img src="https://help.salesforce.com/img/help/helpNote_icon.gif" alt="">$Profile merge fields are only available in Enterprise, Unlimited, Performance, and Developer Editions.</div><br></div><br></div></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>Tips:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><br><br><em>   <a name="AvailableWFR"></a>This function is available only in:

    </em>   Assignment rules<br>    <em>   Validation rules
    </em>   Field updates<br>    <em>   Workflow rules if the evaluation criteria is set to <span class="keyword parmname">Evaluate the rule when a record is: created, and every time it’s edited </span>.
    </em>   Formula criteria for executing actions in the Process Builder.<br><br><em>   Use the NOT function to reverse the return values of TRUE and FALSE.
</em>   This function returns FALSE when evaluating any field on a newly created record.<br><em>   If a text field was previously blank, this function returns TRUE when it contains any value.
</em>   For number, percent, or currency fields, this function returns TRUE when:<br><br>    <em>   The field was blank and now contains any value
    </em>   The field was zero and now is blank<br>    *   The field was zero and now contains any other value<br></td><br></tr><br></tbody><br></table><br></div>

<h2 id="ISCHANGED-1"><a href="#ISCHANGED-1" class="headerlink" title="ISCHANGED"></a><span id="ISCHANGED" class="ph">ISCHANGED</span></h2><div class="data colSort"><br><table class="featureTable sort_table" summary="" cellspacing="0" cellpadding="4"><br><tbody class="tbody"><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>説明:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISCHANGEDDef" class="ph">項目の値を前との値と比較し、2 つが異なれば TRUE を返します。値が同じ場合は FALSE を返します。</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>使用方法:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISCHANGEDUse" class="ph"><samp class="codeph nolang">ISCHANGED(<var class="keyword varname">field</var>)</samp>。<var class="keyword varname">field</var> に、比較する項目名を指定します。</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>入力規則の例:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><samp class="codeph nolang">NOT(ISCHANGED(Name))</samp> を入力規則として指定すると、ユーザが作成済みのオブジェクト名を変更するのを防ぐことができます。<br><br><samp class="codeph nolang">NOT(AND(ISCHANGED(Priority), ISPICKVAL(Priority, “Low”)))</samp> は、ユーザがケースの<span class="keyword parmname">[優先度]</span> を変更した場合に、新規の優先度が「低」にならないようにする入力規則です。<br><br><div class="p"><samp class="codeph nolang">NOT(AND(ISCHANGED(CloseDate), OR(MONTH(CloseDate) &lt;&gt; MONTH(TODAY()), YEAR(CloseDate) &lt;&gt; YEAR(TODAY())),$Profile.Name &lt;&gt; “Sales Manager”))</samp> は、ユーザが商談の <span class="keyword parmname">[完了予定日]</span> を現在の月と年の範囲外の日付に変更できないようにする入力規則です。ただし、そのユーザが「営業マネージャ」プロファイルを持っている場合は変更できます。<br><div class="note"><br><div class="noteTitle">メモ</div><br><div class="noteBody"><img src="https://help.salesforce.com/img/help/helpNote_icon.gif" alt="">$Profile 差し込み項目は、Enterprise Edition、Unlimited Edition、Performance Edition、および Developer Edition でのみ使用可能です。</div><br></div><br></div></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>ヒント:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><br><br><em>   この関数は、次の場所でのみ使用できます。

    </em>   割り当てルール<br>    <em>   入力規則
    </em>   項目自動更新<br>    <em>   評価条件が <span class="keyword parmname">[レコードが次の場合にルールを評価: 作成されたとき、および編集されるたび]</span> に設定されている場合はワークフロールール
    </em>   プロセスビルダーでアクションを実行する数式条件<br><br><em>   TRUE および FALSE の戻り値を逆にする場合は、NOT 関数を使用します。
</em>   この関数は、新規作成レコードの項目を評価すると FALSE を返します。<br><em>   テキスト項目の以前の値が空白だった場合は、この項目が値を含んでいると TRUE を返します。
</em>   数値、パーセント、または通貨項目に対し、次の場合に TRUE を返します。<br><br>    <em>   項目の以前の値が空白で、現在は何らかの値を含んでいる
    </em>   項目の以前の値が 0 で、現在は空白である<br>    *   項目の以前の値が 0 で、現在は別の値を含んでいる<br></td><br></tr><br></tbody><br></table><br></div>

<h2 id="ISNEW"><a href="#ISNEW" class="headerlink" title="ISNEW"></a><span id="ISNEW" class="ph">ISNEW</span></h2><div class="data colSort"><br><table class="featureTable sort_table" summary="" cellspacing="0" cellpadding="4"><br><tbody class="tbody"><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>説明:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISNEWDef" class="ph">新規レコードの作成中に数式が実行されているかどうかを確認し、実行中の場合は TRUE を返します。既存のレコードが更新中の場合は、FALSE を返します。</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>使用方法:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISNEWUse" class="ph"><samp class="codeph nolang">ISNEW()</samp></span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>入力規則の例:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%">ユーザが過去の完了予定日を使用してレコードを作成するのを防止するには、次の入力規則を使用します。<samp class="codeph nolang">AND (ISNEW(), CloseDate &lt; TODAY())</samp> は、ユーザが新規商談を作成中かどうかをチェックし、作成中の場合は本日以降の <span class="keyword parmname">[完了予定日]</span> のみを許可します。<br><br>ユーザが作成済みの商談に対して少なくとも 1 つの商品を追加するようにするには、次の入力規則を使用します。<br><br><div class="codeSection nolang"><br><pre id="HasProducts" class="codeblock nolang">NOT(OR(ISNEW(),HasOpportunityLineItem))</pre><br></div>

<p><span id="HasProductsDef" class="ph">この例では、既存の商談に商品が指定されていない場合、入力規則の数式によって「保存する前に、この商談に商品を追加してください。」というエラーメッセージが表示されます。レコードを一度保存するまでは商品を追加できないため、最初の商談の保存時にはエラーが表示されません。この入力規則は、製品を含まない商談を再保存したり閉じたりすることを防ぐためのものです。</span></p>
<p></p></td><br></tr><p></p>
<p><tr class="row"></tr></p>
<p><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>ヒント:</strong></td></p>
<td class="entry" colspan="1" rowspan="1" width="74.5%">

<ul>
<li>この関数は、入力規則、項目自動更新、ワークフロールール、割り当てルール、およびプロセスビルダーの数式条件でのみ使用できます。</li>
<li>TRUE および FALSE の戻り値を逆にする場合は、NOT 関数を使用します。</li>
<li>ワークフロールールで時間ベースのトリガと併用された場合、この関数は必ず FALSE を返します。</li>
<li>項目自動更新で承認アクションに対して使用された場合、この関数は必ず FALSE を返します。<br></li></ul></td><br><br></tbody><br></table><br></div>

<h2 id="ISPICKVAL"><a href="#ISPICKVAL" class="headerlink" title="ISPICKVAL"></a><span id="ISPICKVAL" class="ph">ISPICKVAL</span></h2><div class="data colSort"><br><table class="featureTable sort_table" summary="" cellspacing="0" cellpadding="4"><br><tbody class="tbody"><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>説明:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISPICKVALDef" class="ph"><a name="ISPICKVALDef"></a>選択リスト項目の値が指定したテキストリテラルと等しいかどうかを判断します。</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>使用方法:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><span id="ISPICKVALUse" class="ph"><a name="ISPICKVALUse"></a><samp class="codeph nolang">ISPICKVAL(<var class="keyword varname">picklist_field</var>, <var class="keyword varname">text_literal</var>)</samp>。<var class="keyword varname">picklist_field</var> には選択リストの差し込み項目名を指定し、<var class="keyword varname">text_literal</var> には引用符で囲んだ選択リストの値を指定します。<var class="keyword varname">text_literal</var> を差し込み項目、または関数の結果にすることはできません。</span></td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>例:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><strong>契約の有効化</strong><br><br><samp class="codeph nolang">IF(ISPICKVAL(Status, “Activated”), NOW()-ActivatedDate, null)</samp> で、契約が有効にされてからの日数が計算されます。契約状況が「有効」でない場合、この項目は空白になります。<br><br><strong>手数料</strong><br><br><div class="codeSection nolang"><br><pre id="Commish" class="codeblock nolang"><a name="Commish"></a>IF(ISPICKVAL(StageName, “Closed Won”),<br>  ROUND(Amount *0.02, 2), 0)</pre><br></div>

<p><span id="CommishDef" class="ph"><a name="CommishDef"></a>この例は、「商談成立」フェーズの商談すべての手数料を計算します。この項目の値は、完了/成立した商談に 0.02 を掛け合わせた金額です。進行中または不成立の商談の場合は、手数料の値が 0 になります。</span></p>
<p><strong>競合によりトリガされるワークフロー</strong></p>
<div class="codeSection nolang"><br><pre class="codeblock nolang">ISPICKVAL(Stage, “Closed Lost”) &amp;&amp; INCLUDES(Competitor__c, “Acme”)</pre><br></div><br>ワークフロールールまたはプロセスビルダーで、この数式は、契約不成立の業務の <span class="keyword parmname">[競合]</span> 複数選択リスト項目が Acme である場合に、関連付けられているアクションをトリガするように Salesforce を設定します。</td><br></tr><br><tr class="row"><br><td class="entry" colspan="1" rowspan="1" width="25.5%"><strong>ヒント:</strong></td><br><td class="entry" colspan="1" rowspan="1" width="74.5%"><br><br><em>   <var class="keyword varname">picklist_field</var> に、選択リストの標準またはカスタム項目を指定します。
</em>   <var class="keyword varname">text_literal</var> の式は、テキスト型にして引用符で囲む必要があります。差し込み項目または関数の結果にすることはできません。<br><em>   <a name="ispickval_use_case"></a>選択リストの値が特定の値と等しいかどうかを判断するには、<a href="https://help.salesforce.com/apex/HTViewHelpDoc?id=customize_functions_a_h.htm&amp;language=ja#CASE" target="_blank" rel="external">CASE</a> 関数を使用します。
</em>   <a name="ISPICKVALPRIOR"></a>選択リスト項目の前の値を返すために ISPICKVAL 関数を使用する場合は、次の例に示すように ISPICKVAL 関数内に PRIORVALUE 関数を含めてください。<br><div class="codeSection nolang"><br><pre class="codeblock nolang">ISPICKVAL(PRIORVALUE<br>(<var class="keyword varname">picklist_field</var>),<br><var class="keyword varname">text_literal</var>)</pre><br>&nbsp;<br><br></div><br></td><br></tr><br></tbody><br></table><br>&nbsp;<br><br></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/salesforce-ischanged.html" data-id="cji8sg1un00ao40iop9bfdld6" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-soql-date" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/soql-date.html" class="article-date">
  <time datetime="2016-07-19T00:49:18.000Z" itemprop="datePublished">2016-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/soql-date.html">SOQL 日付関数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>salesforceで用意されている日付関数にはとても便利なものが多い。<br>知らないとクエリー結果に対してApexでゴリゴリと処理をおこなう必要があったり、逆に知っていればコードの可読性は向上し、ガバナ制約の回避につなげることもできる。<br>現時点（Spring’14）で使用可能な日付関数をメモしておく。</p>
<p>[SOQL：日付関数]<br><strong>CALENDAR_MONTH()</strong> ：date 項目のカレンダー月を表す数値を返します。<br><strong>CALENDAR_QUARTER() </strong>：date 項目の四半期を表す数値を返します。<br><strong>CALENDAR_YEAR()</strong> ： date 項目のカレンダー年を表す数値を返します。<br><strong>DAY_IN_MONTH() </strong>：日付項目の月の何日目かを表す数値を返します。<br><strong>DAY_IN_WEEK() </strong>：date 項目の曜日を表す数値を返します。<br><strong>DAY_IN_YEAR() </strong>：date 項目の年の何日目かを表す数値を返します。<br><strong>DAY_ONLY()</strong> ：dateTime 項目の日付部分を表す日付を返します。<br><strong>FISCAL_MONTH()</strong> ：date 項目の会計年度の月を表す数値を返します。<br><strong>FISCAL_QUARTER()</strong> ：date 項目の会計年度の四半期を表す数値を返します。<br><strong>FISCAL_YEAR()</strong> ：date 項目の会計年度を表す数値を返します。<br><strong>HOUR_IN_DAY()</strong> ： dateTime 項目の時間を表す数値を返します。<br><strong>WEEK_IN_MONTH() </strong>：date 項目の月の何週目かを表す数値を返します。<br><strong>WEEK_IN_YEAR() </strong>：date 項目の年の何週目かを表す数値を返します。</p>
<p>• クエリに GROUP BY 句が含まれていない場合でも、WHERE 句で日付関数を使用して結果を絞り込むことができます。次のクエリは 2009 年のデータを返します。</p>
<p><pre>SELECT CreatedDate, Amount<br>FROM Opportunity<br>WHERE CALENDAR_YEAR(CreatedDate) = 2009</pre><br>• 日付関数の結果を WHERE 句の 日付リテラルと比較することはできません。次のクエリは機能しません。</p>
<p><pre>SELECT CreatedDate, Amount<br>FROM Opportunity<br>WHERE CALENDAR_YEAR(CreatedDate) = THIS_YEAR</pre><br>• GROUP BY 句にも含めない限り、SELECT 句で日付関数を使用することはできません。日付関数で使用される項目が date 項目の場合は例外があります。GROUP BY句では日付関数の代わりに、date 項目を使用できます。<br>これは、dateTime 項目に対しては機能しません。次のクエリは、CALENDAR_YEAR(CreatedDate) が GROUP BY句に含まれていないため機能しません。</p>
<p><pre>SELECT CALENDAR_YEAR(CreatedDate), Amount<br>FROM Opportunity</pre><br>次のクエリは、CloseDate という date 項目が GROUP BY 句に含まれているため機能します。これが、CreatedDate などの dateTime 項目の場合には機能しません。</p>
<p><pre>SELECT CALENDAR_YEAR(CloseDate)<br>FROM Opportunity<br>GROUP BY CALENDAR_YEAR(CloseDate)</pre><br>以上</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/soql-date.html" data-id="cji8sg1vz00cw40ion2q2nmfo" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-salesforce-date-compare" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/salesforce-date-compare.html" class="article-date">
  <time datetime="2016-07-11T04:31:22.000Z" itemprop="datePublished">2016-07-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Salesforce/">Salesforce</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/salesforce-date-compare.html">Salesforce日期比较</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>２つの日付の期間を日数で取得するには、<br>DateクラスのdaysBetweenメソッドを使用します。</p>
<p>daysBetweenメソッドの引数には比較するDateクラスを渡します。</p>
<p>例）<br>2010/12/1～2010/12/31の期間の日数を求める。</p>
<p>Date startDate = Date.newInstance(2010,12,1);<br>Date endDate = Date.newInstance(2010,12,31);<br>System.debug(startDate.daysBetween(endDate));</p>
<p>結果は、30が返されます。</p>
<p>日付の比較を逆にするとマイナスが返されます。<br>System.debug(endDate.daysBetween(startDate));</p>
<p>結果は、-30が返されます。</p>
<p>同日を比較すると、<br>Date startDate = Date.newInstance(2010,12,1);<br>Date endDate = Date.newInstance(2010,12,1);<br>System.debug(startDate.daysBetween(endDate));</p>
<p>結果は、0が返されます。<br>返された値は、比較の基点となった開始日付の<br>DateクラスのaddDaysメソッド（日付の加算を行なうメソッド）に渡すと<br>終了日付が返されます。</p>
<p>例）<br>開始日付が、2010/12/1<br>終了日付が、2010/12/31<br>Date startDate = Date.newInstance(2010,12,1);<br>Date endDate = Date.newInstance(2010,12,31);<br>System.debug(startDate.addDays(startDate.daysBetween(endDate)));</p>
<p>結果は、2010/12/31が返されます。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://www.ibmer.info/salesforce-date-compare.html" data-id="cji8sg1uh00ae40ios54rpqr3" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Salesforce/">Salesforce</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/5/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Catégories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/MiddleWare/">MiddleWare</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OperatingSystem/">OperatingSystem</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Program/">Program</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Salesforce/">Salesforce</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/日本/">日本</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apex/">Apex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB2/">DB2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/">Database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IBM/">IBM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT/">IT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SFDC/">SFDC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOA/">SOA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Salesforce/">Salesforce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SalesforceExam/">SalesforceExam</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SalesforceTest/">SalesforceTest</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SalesforceXyTools/">SalesforceXyTools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aix/">aix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apache/">apache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/">cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/">eclipse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ecshop/">ecshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ilmt/">ilmt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jython/">jython</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mq/">mq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/">tools</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vba/">vba</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vmware/">vmware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/was/">was</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/websphere/">websphere</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordpress/">wordpress</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分布式/">分布式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信/">微信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库优化/">数据库优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日本/">日本</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/测试，test/">测试，test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/理论/">理论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络/">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟化/">虚拟化</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apex/" style="font-size: 14.17px;">Apex</a> <a href="/tags/DB2/" style="font-size: 10.83px;">DB2</a> <a href="/tags/Database/" style="font-size: 14.17px;">Database</a> <a href="/tags/IBM/" style="font-size: 11.67px;">IBM</a> <a href="/tags/IT/" style="font-size: 12.5px;">IT</a> <a href="/tags/SFDC/" style="font-size: 14.17px;">SFDC</a> <a href="/tags/SOA/" style="font-size: 10.83px;">SOA</a> <a href="/tags/Salesforce/" style="font-size: 20px;">Salesforce</a> <a href="/tags/SalesforceExam/" style="font-size: 10px;">SalesforceExam</a> <a href="/tags/SalesforceTest/" style="font-size: 10px;">SalesforceTest</a> <a href="/tags/SalesforceXyTools/" style="font-size: 15.83px;">SalesforceXyTools</a> <a href="/tags/aix/" style="font-size: 11.67px;">aix</a> <a href="/tags/android/" style="font-size: 14.17px;">android</a> <a href="/tags/apache/" style="font-size: 10px;">apache</a> <a href="/tags/c/" style="font-size: 10px;">c</a> <a href="/tags/cloud/" style="font-size: 10px;">cloud</a> <a href="/tags/eclipse/" style="font-size: 10.83px;">eclipse</a> <a href="/tags/ecshop/" style="font-size: 11.67px;">ecshop</a> <a href="/tags/ilmt/" style="font-size: 12.5px;">ilmt</a> <a href="/tags/java/" style="font-size: 17.5px;">java</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/jython/" style="font-size: 10px;">jython</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/mq/" style="font-size: 10px;">mq</a> <a href="/tags/mysql/" style="font-size: 14.17px;">mysql</a> <a href="/tags/network/" style="font-size: 10px;">network</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/php/" style="font-size: 18.33px;">php</a> <a href="/tags/python/" style="font-size: 10.83px;">python</a> <a href="/tags/shell/" style="font-size: 10.83px;">shell</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/vba/" style="font-size: 10.83px;">vba</a> <a href="/tags/vmware/" style="font-size: 10px;">vmware</a> <a href="/tags/was/" style="font-size: 15px;">was</a> <a href="/tags/websphere/" style="font-size: 10px;">websphere</a> <a href="/tags/windows/" style="font-size: 14.17px;">windows</a> <a href="/tags/wordpress/" style="font-size: 16.67px;">wordpress</a> <a href="/tags/分布式/" style="font-size: 13.33px;">分布式</a> <a href="/tags/微信/" style="font-size: 10.83px;">微信</a> <a href="/tags/数据库/" style="font-size: 10.83px;">数据库</a> <a href="/tags/数据库优化/" style="font-size: 10.83px;">数据库优化</a> <a href="/tags/日本/" style="font-size: 10.83px;">日本</a> <a href="/tags/测试，test/" style="font-size: 10px;">测试，test</a> <a href="/tags/理论/" style="font-size: 19.17px;">理论</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/虚拟化/" style="font-size: 10px;">虚拟化</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2001/01/">January 2001</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2000/01/">January 2000</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/hello-world.html">Hello World</a>
          </li>
        
          <li>
            <a href="/SalesforceXyTools-Sublime-ApexCreator.html">SalesforceXyTools Sublime ApexCreator</a>
          </li>
        
          <li>
            <a href="/SalesforceXyTools-Sublime-ExportToExcel.html">SalesforceXyTools Sublime Export SObject To Excel</a>
          </li>
        
          <li>
            <a href="/SalesforceXyTools-Sublime-TestCodeCreator.html">SalesforceXyTools Sublime Test Code Creator</a>
          </li>
        
          <li>
            <a href="/SalesforceXyTools-Sublime-Install.html">SalesforceXyTools Sublime Install Help</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">About</h3>
    <div class="widget">
      邮箱：exia.sfdc@outlook.com<br />
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Exia.Huang<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>